<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Прошивальщик для T-Embed CC1101 с поддержкой Bruce, M5Launcher и заводской прошивки">
    <title>T-Embed Flasher | Прошивка CC1101</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <script type="module" src="./esp-web-tool/install-button.js?module"></script>
    <!-- Подключение иконок Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Анимированный фон -->
    <div class="bg-animation">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
        <div class="circle circle-4"></div>
    </div>

    <div class="container">
        <!-- Шапка -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-microchip"></i>
                <h1>T-Embed <span class="highlight">Flasher</span></h1>
            </div>
            <p class="tagline">Прошивка T-Embed CC1101 одним нажатием. Без программ, без сложностей.</p>
        </header>

        <!-- Инструкция -->
        <section class="card instructions">
            <div class="card-header">
                <i class="fas fa-graduation-cap"></i>
                <h2>Как прошить устройство</h2>
            </div>
            <ol class="steps">
                <li><span class="step-number">1</span> Подключите T-Embed CC1101 к компьютеру через USB</li>
                <li><span class="step-number">2</span> Установите драйвер (если требуется) из раздела ниже</li>
                <li><span class="step-number">3</span> Выберите нужную прошивку</li>
                <li><span class="step-number">4</span> Нажмите кнопку "Прошить"</li>
                <li><span class="step-number">5</span> В открывшемся окне выберите ваше устройство и нажмите "Подключиться"</li>
            </ol>
        </section>

        <!-- Прошивки -->
        <section class="card">
            <div class="card-header">
                <i class="fas fa-download"></i>
                <h2>Выберите прошивку для T-Embed CC1101</h2>
            </div>
            <div class="firmware-grid" id="firmwares-container">
                <!-- Прошивки будут добавлены через JavaScript -->
            </div>
        </section>

        <!-- Драйверы -->
        <section class="card drivers">
            <div class="card-header">
                <i class="fas fa-tools"></i>
                <h2>Драйверы для устройства</h2>
            </div>
            <p class="driver-description">Для работы с T-Embed CC1101 могут потребоваться драйверы. Скачайте подходящий для вашей системы:</p>
            <div class="driver-grid" id="drivers-container">
                <!-- Драйверы будут добавлены через JavaScript -->
            </div>
        </section>

        <!-- Футер -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-info">
                    <p><i class="fas fa-exclamation-triangle"></i> Используйте на свой риск. Автор не несет ответственности за возможные проблемы.</p>
                    <p class="tech-info">Устройство: T-Embed CC1101 (ESP32-S3) | Поддержка: Chrome, Edge, Яндекс.Браузер</p>
                </div>
                <div class="github-link">
                    <a href="https://github.com" target="_blank" class="github-btn">
                        <i class="fab fa-github"></i> Исходный код на GitHub
                    </a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Скрипты -->
    <script>
        // Массив прошивок
        const firmwares = [
            { manifest: "./manifests/tembedcc/Bruce1.8.json", name: "Bruce 1.8" },
            { manifest: "./manifests/tembedcc/Bruce1.14.json", name: "Bruce 1.14" },
            { manifest: "./manifests/tembedcc/Launcher.json", name: "M5Launcher" },
            { manifest: "./manifests/tembedcc/Factory.json", name: "Заводская (Factory)" }
        ];

        // Массив драйверов
        const drivers = [
            { name: "CDM21228 (Windows)", file: "CDM21228_Setup.zip", icon: "windows" },
            { name: "CH341SER (Windows)", file: "CH341SER.ZIP", icon: "windows" },
            { name: "CH341SER (macOS)", file: "CH341SER_MAC.ZIP", icon: "apple" },
            { name: "CH343SER", file: "CH343SER.ZIP", icon: "chip" },
            { name: "CH9102 (macOS)", file: "CH9102_VCP_MacOS_v1.7.zip", icon: "apple" },
            { name: "CH9102 (Windows)", file: "CH9102_VCP_SER_Windows.exe", icon: "windows" },
            { name: "CP210x (Windows)", file: "CP210x_Universal_Windows_Driver.zip", icon: "windows" }
        ];
    </script>
    <script src="./scripts/firmwares.js"></script>
    <script src="./scripts/drivers.js"></script>
</body>
</html>